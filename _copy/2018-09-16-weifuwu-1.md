---
layout:       post
title:        "单体、服务化架构一点概念"
subtitle:     "浅析单体架构和服务化架构的一些概念"
date:         2018-09-15 22:42:05
author:       "Hyuga"
header-img:   "img/2018/2018-09/head-top-4.jpg"
header-mask:  0.3
catalog:      true
multilingual: false
tags:
    - 架构
---

## 架构演变

单体 —> 服务化 ->

怎么实施微服务：
框架：注册中心，负载均衡，声明式服务调用，容错，网关，配置
拆分：业务模块拆分成一个个独立的项目，循序渐进，不要想着一步到位，小项目不建议，老项目多考虑





单体缺点：
- 耦合性高
- 部署耗时长
- 稳定性差
- 扩展性差

服务化：
单体系统多模块拆分成多个服务系统，多个服务系统之间通信是将服务接口暴露注册到注册中心，使用同一协议，



微服务架构的优点：
边界清晰，开发测试维护简单：每个服务职责清晰
技术栈灵活：每个服务开发语言可不同，只需要把服务注册到注册中心，统一协议
松耦合：各个服务间不像单体架构一样通过方法调用
可用性：单个服务宕机，不影响其他服务访问，可能影响业务，如果有关联
按需扩展：某个服务需要做硬件升级，比如集群，硬件升级等，不影响其他服务

微服务的缺点：
接口依赖：
分布式带来的复杂性：网络延迟、容错、消息序列化、数据一致性、


单体服务升级微服务的问题：
服务寻址问题：单个服务不可能记录下所有要调用的服务的ip集，所以需要用到注册中心
服务调用方式问题：http、dubbo
服务负载均衡问题：
    集群：调用者->nginx->提供者（基于服务端的负载均衡，请求发出后）
    dubbo、cloud：调用者去注册中心拿要调用的ip，然后再去调用相应ip的服务（基于客户端的负载均衡，请求发出前）
服务调用容错问题：
    服务熔断与降级、线程隔离Hystrix

声明式服务调用：Feign   ribbon
权限



## 集群分布式

微服务一定是分布式


框架：springBoot + mybatis + mysql
前端：bootstrap angularJs
消息中间件：rabbitmq
缓存：redis


SpringBoot和SpringCloud
SpringBoot基于Spring，整合了Spring，SpringCloud基于SpringBoot

SpringCloud是Spring家族的一员，用于快速构建分布式应用
